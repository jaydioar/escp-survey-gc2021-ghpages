(this["webpackJsonpsurvey-gc2021"]=this["webpackJsonpsurvey-gc2021"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(4),l=n.n(a),o=n(55),r=n.n(o),i=(n(63),n(5)),c=n(22),s=n(13),u=n(1),d=["name","label","options","onValueSelect"],b=function(e){var t=e.name,n=e.label,a=e.options,l=e.onValueSelect;Object(s.a)(e,d);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"font-bold pb-5",children:n}),Object(u.jsx)("select",{name:t,onChange:l,className:"py-1 px-3 border border-solid border-black bg-gray-50",children:a.map((function(e,t){return Object(u.jsx)("option",{value:e.value,children:e.label},t)}))})]},t)},m=n(19),h=["onChange","onComplete","label"],j=function(e){var t=e.onChange,n=e.onComplete,a=e.label,l=Object(s.a)(e,h);return Object(u.jsxs)(u.Fragment,{children:[a&&Object(u.jsx)("div",{className:"font-bold pb-5",children:a}),Object(u.jsx)("input",Object(m.a)({type:"number",onChange:function(e){e.target.value.length>0&&(t(e),n(e))},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},l))]})},f=n(37),g=n.n(f),v=["name","onSearchHistoryChanged","placeholder","notFoundMessage","labelOpenDocument"],p=null,x=function(e){var t=e.name,n=e.onSearchHistoryChanged,l=e.placeholder,o=e.notFoundMessage,r=e.labelOpenDocument,d=(Object(s.a)(e,v),Object(a.useState)("")),b=Object(i.a)(d,2),m=b[0],h=b[1],j=Object(a.useState)({init:!0}),f=Object(i.a)(j,2),x=f[0],O=f[1],w=Object(a.useState)([]),y=Object(i.a)(w,2),N=y[0],S=y[1],C=Object(a.useState)({title:null,url:null,viewerIsOpen:!1}),k=Object(i.a)(C,2),I=k[0],_=k[1],D=Object(a.useState)(null),E=Object(i.a)(D,2),M=E[0],F=E[1];Object(a.useEffect)((function(){g.a.get("./content/research-simulation.json").then((function(e){var t=function(e){var t,n,a;if(null===e||void 0===e||!e.researchSimulation)throw Error("Die Daten in research-simulation.json sind ung\xfcltig!");if(null===(t=e.researchSimulation)||void 0===t||!t.config)throw Error('Abschnitt "config: { ... }" in research-simulation.json fehlt!');if(!(null!==(n=e.researchSimulation)&&void 0!==n&&null!==(a=n.cues)&&void 0!==a&&a.length)>0)throw Error('Abschnitt "cues": [ ... ] in research-simulation.json fehlt oder ist leer!');try{e.researchSimulation.cues.forEach((function(e){var t=e.id,n=e.title,a=e.keywords,l=e.url;if(!t||"number"!==typeof t)throw Error('Fehlendes oder ung\xfcltiges Attribute "id" (keine Zahl?) in '.concat(JSON.stringify(e)));if(!n||"string"!==typeof n||(null===n||void 0===n?void 0:n.length)<1)throw Error('Fehlendes oder ung\xfcltiges Attribute "title" (keine Zeichenkette?) in '.concat(JSON.stringify(e)));if(!a||!(null!==a&&void 0!==a&&a.length)>1)throw Error('Fehlendes oder ung\xfcltiges Attribute "keywords" (keine Zeichenkette?) in '.concat(JSON.stringify(e)));if(!l||!(null!==l&&void 0!==l&&l.length)>1)throw Error('Fehlendes oder ung\xfcltiges Attribute "url" (keine Zeichenkette?) in '.concat(JSON.stringify(e)))}))}catch(l){throw console.error(l),JSON.stringify(l.message)}return e}(e.data);t?F(t):console.log("Control data invalid.")}))}),[]);var q=function(e,a){var l=N;l.push({time_:(new Date).getTime(),time:(new Date).toISOString(),action:e,info:a}),S(l),n({target:{name:t,value:l}})},A=function(e){var t=m.toLowerCase().split(";").reduce((function(e,t){var n;return 0===t.length||(null===(n=M.researchSimulation)||void 0===n?void 0:n.cues.filter((function(e){return e.keywords.toLowerCase().indexOf(t)>-1}))).forEach((function(t){e[t.id]=t})),e}),{});0===Object.keys(t).length?q("SEARCH-FAILED",m):q("SEARCH-SUCCESS",m),O(t)};return Object(u.jsxs)("div",{className:"container mx-auto",children:[Object(u.jsx)("h1",{className:"text-3xl pb-4",children:"Recherche"}),Object(u.jsxs)("div",{className:"bg-blue-50 shadow-md px-8 pt-6 pb-8 mb-4",children:[Object(u.jsx)("div",{className:"mb-4",children:Object(u.jsx)("input",{autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&m.length>=4&&A()},onChange:function(e){h(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"keywords",type:"text",placeholder:l})}),Object(u.jsx)("div",{className:"flex items-center justify-between",children:Object(u.jsx)("button",{disabled:m.length<4&&"disabled",className:Object(c.a)({"bg-blue-300 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed":m.length<4,"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline":m.length>=4}),type:"button",onClick:A,children:"Suchen"})})]}),!0!==x.init&&0===Object.keys(x).length&&Object(u.jsx)("div",{className:"bg-gray-50 p-10 my-10",children:Object(u.jsx)("div",{children:o})}),!0!==x.init&&Object.keys(x).map((function(e){return Object(u.jsxs)("div",{className:"bg-gray-50 p-5 my-1 border-gray-500",children:[Object(u.jsx)("div",{className:"font-bold",children:x[e].title}),Object(u.jsx)("div",{className:"text-blue-400",children:Object(u.jsx)("div",{className:"cursor-pointer text-blue-700",onClick:(t=x[e],function(){q("OPEN",t.url);var e=new Date;p=e.getTime(),_({title:t.title,url:t.url,viewerIsOpen:!0})}),children:r})})]},e);var t})),I.viewerIsOpen&&Object(u.jsxs)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-99 overflow-y-auto h-full w-full",children:[Object(u.jsxs)("div",{className:"flex w-full bg-gray-800 text-white text-xl p-2",children:[Object(u.jsx)("button",{className:"flex-none p-2 cursor-pointer m-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline",onClick:function(e){var t=I.url,n=(new Date).getTime()-p;p=null,q("CLOSE",{url:t,durationInSec:n/1e3}),_({title:null,url:null,viewerIsOpen:!1})},children:"Zur\xfcck zur Suchmaske"}),Object(u.jsx)("div",{className:"flex-grow text-center pt-4 pl-52 text-2xl font-bold",children:I.title})]}),Object(u.jsx)("div",{className:"w-full h-full",children:Object(u.jsx)("embed",{src:I.url,type:"application/pdf",frameBorder:"0",scrolling:"auto",height:"100%",width:"100%"})})]})]})},O=function(e){if(e&&!(e.length<1)){var t=null,n=e;do{t=n,n=(n=n.replace(/\[(b|i|u|s|center)\]([\s\S]*?)\[\/\1\]/g,"<$1>$2</$1>")).replace(/\[url=(\/.+?)\](.*?)\[\/url\]/g,"<a href='$1' target='_blank' class='external'>$2</a>")}while(n!==t);return n=n.replace(/\[br\]*/g,"<br />")}},w=["name","label","options","onChange","alignment","randomizeOrder"];var y=function(e){var t=e.name,n=e.label,a=e.options,l=e.onChange,o=e.alignment,r=e.randomizeOrder,i=(Object(s.a)(e,w),function(e){return l(e)}),c=a;return r&&function(e){for(var t,n=e.length;0!=n;){t=Math.floor(Math.random()*n),n--;var a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}}(c),"vertical"===o?Object(u.jsxs)("div",{className:"p-0 w-full",children:[Object(u.jsx)("div",{className:"max-w-full pb-5 font-bold",dangerouslySetInnerHTML:{__html:O(n)||" "}}),Object(u.jsx)("div",{className:"w-full",children:c.map((function(e,n){return Object(u.jsxs)("div",{className:"h-12",children:[Object(u.jsx)("span",{className:"w-min",children:Object(u.jsx)("input",{type:"radio",name:t,id:"".concat(t).concat(e.value),value:e.value,onChange:i})})," \xa0",Object(u.jsx)("label",{className:"w-full border border-solid",htmlFor:"".concat(t).concat(e.value),children:Object(u.jsx)("span",{className:"h-16 font-bold text-center whitespace-pre",dangerouslySetInnerHTML:{__html:O(e.label)||" "}})},n)]})}))})]},t):Object(u.jsxs)("div",{className:"p-0 w-full",children:[Object(u.jsx)("div",{className:"max-w-full pb-5 font-bold",dangerouslySetInnerHTML:{__html:O(n)||" "}}),Object(u.jsx)("div",{className:"w-full flex",children:a.map((function(e,n){return Object(u.jsxs)("label",{className:"w-full border border-solid",htmlFor:"".concat(t).concat(e.value),children:[Object(u.jsx)("div",{className:"h-16 font-bold text-center whitespace-pre",dangerouslySetInnerHTML:{__html:O(e.label)||" "}}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("input",{type:"radio",name:t,id:"".concat(t).concat(e.value),value:e.value,onChange:i})}),Object(u.jsx)("div",{className:"text-center",children:e.value})]},n)}))})]},t)},N=["name","min","max","label","unit","onChange"],S=function(e){var t=e.name,n=e.min,l=e.max,o=e.label,r=e.unit,c=e.onChange,d=Object(s.a)(e,N),b=(Math.ceil(n+(l-n)/2),Object(a.useState)(null)),h=Object(i.a)(b,2),j=h[0],f=h[1],g=function(e){return c({target:{name:t,value:j}})};return Object(u.jsxs)("div",{className:"p-0",children:[Object(u.jsx)("div",{className:"max-w-sm font-bold pb-5",children:o}),Object(u.jsx)("input",Object(m.a)({className:"bg-gray-400",type:"range",name:t,min:n,max:l,defaultValue:-1,onChange:function(e){f(e.target.value)},onMouseUp:g,onKeyUp:g},d)),"\xa0",Object(u.jsxs)("span",{children:[j," ",r]})]},t)},C=["name","onChange","onComplete","label","isRequired"],k=function(e){var t=e.name,n=e.onChange,a=e.onComplete,l=e.label,o=(e.isRequired,Object(s.a)(e,C));return Object(u.jsxs)(u.Fragment,{children:[l&&Object(u.jsx)("div",{className:"font-bold pb-5",children:l}),Object(u.jsx)("textarea",Object(m.a)({name:t,onChange:function(e){e.target.value.length>0&&n(e)},onBlur:a,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},o))]})},I=["onChange","onComplete","label"],_=function(e){var t=e.onChange,n=e.onComplete,a=e.label,l=Object(s.a)(e,I);return Object(u.jsxs)(u.Fragment,{children:[a&&Object(u.jsx)("div",{className:"font-bold pb-5",children:a}),Object(u.jsx)("input",Object(m.a)({type:"text",onChange:function(e){e.target.value.length>0&&(t(e),n(e))},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},l))]})},D=["data","onAllChosen"],E=function(e){var t=e.data,n=e.onAllChosen;Object(s.a)(e,D);if(null===t||void 0===t||!t.attributes||0===t.attributes.length)return Object(u.jsx)("div",{children:"No attributes given"});var a=function(e){var t=e;return t.sort((function(){return Math.random()-.5})),t}(Object.keys(t.attributes)),l={fieldsOrdered:a.map((function(e){return t.attributes[e].name})),answers:{}},o=function(e){if(l.answers[e.target.name]=e.target.value,Object.keys(l.answers).length>0&&Object.keys(l.answers).length===l.fieldsOrdered.length){var a=function(e,t){var n=0,a=0,l=0;return Object.keys(e).forEach((function(o){var r=t.filter((function(e){return e.name===o}))[0];"pos"===r.trend&&"y"===e[o]&&(n++,a++),"neg"===r.trend&&"y"===e[o]&&(n--,l++)})),{score:n,posMatches:a,negMatches:l}}(l.answers,t.attributes),o=a.score,r=a.posMatches,i=a.negMatches;l.score1=o,l.score2=r/(r+i),n({target:{name:t.name,value:l}})}};return Object(u.jsx)("div",{className:"flex flex-wrap",children:a.map((function(e,n){var a=t.attributes[e];return Object(u.jsx)("div",{className:"flex w-full md:w-1/2",children:Object(u.jsxs)("div",{className:"border border-solid border-gray-200 bg-gray-50 flex p-2 w-full",children:[Object(u.jsx)("div",{className:"flex-grow",children:a.label}),Object(u.jsxs)("label",{htmlFor:a.name,className:"flex-0 w-1/4",children:[Object(u.jsx)("input",{type:"radio",name:a.name,id:a.name,value:"y",onChange:o}),"\xa0 Ja"]}),Object(u.jsxs)("label",{htmlFor:a.name+"2",className:"flex-0",children:[Object(u.jsx)("input",{type:"radio",name:a.name,id:a.name+"2",value:"n",onChange:o}),"\xa0 Nein"]})]})},n)}))})},M=["label","name","unit","min","max","isOptional"],F=0,q=function(e,t){return e.formSections===t.formSections},A=Object(a.memo)((function(e){var t=e.formSections,n=e.formName,a=e.onFormChanged,l=e.onFormComplete,o=e.defaultValues,r=Object.assign({},o),i=[],c=function(e,t){t&&!i.includes(e)&&i.push(e)},d=function(e){return e.paragraphs.map((function(e,t){return Object(u.jsx)("p",{className:"pb-3",dangerouslySetInnerHTML:{__html:O(e)}},t)}))},m=function(e,t){var n=r;n[e]=t,r=n},h=function(e){if(m(e.target.name,e.target.value),a(n,r),function(){if(!r)return!1;if(r&&Object.keys(r).length<1)return!0;var e=!0;return i.forEach((function(t){void 0!==r[t]&&null!==r[t]||(e=!1)})),e}()){var t=Object.assign({},r);t.isCompleted=!0,l(n,t)}},f=function(e){var t,n=e.name,a=e.label,l=e.rows,o=e.placeholder,i=e.isOptional;c(n,!i);var s=(null===(t=r)||void 0===t?void 0:t[n])||null;return Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(k,{className:"w-full p-5",onChange:h,onComplete:function(){},isRequired:!i,label:a,name:n,rows:l,placeholder:o,defaultValue:s})},n)},g=function(e,t){return function(n){h({target:{name:t,value:{url:e,time_:(new Date).getTime(),time:(new Date).toISOString()}}})}},v=function(e){var t,n=e.name,a=(e.isOptional,e.versions);if((null===a||void 0===a?void 0:a.length)<1)return null;var l=r[n]||function(e){for(var t=0,n={},a=0;a<e.length;a++)t+=e[a].settings.weight;for(var l=0;l<e.length;l++)n[l]=e[l].settings.weight/t;for(var o=Math.random(),r=0,i=null,c=0;c<Object.keys(n).length;c++)if(o<=(r+=n[i=Object.keys(n)[c]]))return i}(a);m(n,l);var o=null===(t=a[l].elements)||void 0===t?void 0:t.map((function(e,t){return e.module&&"subsections"!==e.module?Object(u.jsx)("div",{className:"__element p-2",children:w(e)},t):null}));return Object(u.jsx)("div",{children:o},n)},p=function(e){var t=e.map((function(e,t){return e.module&&"subsections"!==e.module?Object(u.jsx)("div",{className:"__element p-2",children:w(e)},e.id):null}));return Object(u.jsx)("div",{className:"absolute right-0 top-0 h-screen",children:Object(u.jsx)("div",{className:"__element p-2 sticky right-0 top-0",children:t})})},w=function(e){var t=e.data,n=e.elements,a=e.module,l=null;switch(t.id=F++,a.toLowerCase()){case"aside":l=p(n);break;case"selfassessment":l=function(e){return Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(E,{data:e,onAllChosen:h})},e.name)}(t);break;case"linkthumbnail":l=function(e){var t=e.url,n=e.target,a=e.name,l=e.title,o=e.isOptional;return c(a,!o),Object(u.jsx)("a",{href:t,target:n,onClick:g(t,a),children:Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-100 p-5 w-auto hover:bg-gray-200",children:l},a)})}(t);break;case"researchsimulation":l=function(e){var t=e.name,n=e.label,a=e.placeholder,l=e.notFoundMessage,o=e.labelOpenDocument;return Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(x,{name:t,labe:n,placeholder:a,notFoundMessage:l,labelOpenDocument:o,onSearchHistoryChanged:h})},t)}(t);break;case"dropdown":l=function(e){var t=e.name,n=e.label,a=e.options,l=e.isOptional;return c(t,!l),Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(b,{name:t,label:n,options:a,onValueSelect:h})},t)}(t);break;case"selectfromrange":l=function(e){var t=e.name,n=e.isOptional,a=e.label,l=e.options,o=e.alignment,r=e.randomizeOrder;return c(t,!n),Object(u.jsx)("div",{className:"bg-gray-200 p-5",children:Object(u.jsx)(y,{name:t,label:a,options:l,onChange:h,alignment:o,randomizeOrder:r})},t)}(t);break;case"slider":l=function(e){var t=e.label,n=e.name,a=e.unit,l=e.min,o=e.max,r=e.isOptional;return Object(s.a)(e,M),c(n,!r),Object(u.jsx)("div",{className:"bg-gray-200 p-5 w-full",children:Object(u.jsx)(S,{name:n,className:"min-w-full",label:t,unit:a,onChange:h,min:l,max:o})},n)}(t);break;case"headline":l=function(e){return Object(u.jsx)("div",{className:"text-xl pt-3 pb-4",children:Object(u.jsx)("strong",{children:e.text})},e.text)}(t);break;case"boxedtext":l=function(e){var t=d(e);return Object(u.jsx)("div",{className:"border border-gray-400 bg-gray-200 p-5 border-solid",children:t})}(t);break;case"bulletlist":l=function(e){var t=e.paragraphs.map((function(e,t){return Object(u.jsx)("li",{className:"pb-3 list-item",children:e},t)}));return Object(u.jsx)("ul",{className:"pl-10 list-outside list-disc",children:t})}(t);break;case"pickversion":l=v(t);break;case"text":l=d(t);break;case"textarea":case"textinput":l=function(e){var t,n=e.name,a=e.label,l=e.rows,o=e.placeholder,i=e.isOptional;if(l>1)return f({name:n,label:a,rows:l,placeholder:o});c(n,!i);var s=(null===(t=r)||void 0===t?void 0:t[n])||null;return Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(_,{className:"w-full p-5",onBlur:h,onChange:function(){return null},onComplete:h,label:a,name:n,rows:l,placeholder:o,defaultValue:s})},n)}(t);break;case"numericalinput":l=function(e){var t,n=e.name,a=e.label,l=e.rows,o=e.placeholder,i=e.isOptional;if(l>1)return f({name:n,label:a,rows:l,placeholder:o});c(n,!i);var s=(null===(t=r)||void 0===t?void 0:t[n])||0;return Object(u.jsx)("div",{className:"border-1 border-solid bg-gray-200 p-5",children:Object(u.jsx)(j,{className:"w-full p-5",onBlur:h,onChange:function(){return null},onComplete:h,label:a,name:n,rows:l,placeholder:o,defaultValue:s})},n)}(t)}return l},N=function e(t,n){var a=null;return t.map((function(t,l){var o=t.elements.map((function(t,l){return t.module?"subsections"!==t.module?(a=w(t),Object(u.jsx)("div",{className:"__element p-2",children:a},"".concat(t.id))):a=e(t.sections,n+1):null}));return 1===n?Object(u.jsx)("div",{className:"p-6 border my-1 border-solid",children:o},"sect-".concat(n,":").concat(l)):Object(u.jsx)("div",{className:"__subsection",children:o},"subsect-".concat(n,":").concat(l))}))}(t,1);return Object(u.jsx)(u.Fragment,{children:N})}),q),T=function(e){var t=e.title,n=e.text,a=e.buttons,l=e.onAccept,o=e.onReject;return Object(u.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-70 h-full w-full",children:Object(u.jsxs)("div",{className:"md:w-1/2 bg-white m-auto my-10",children:[Object(u.jsx)("div",{className:"flex w-full bg-gray-400 p-3 text-white text-2xl",children:Object(u.jsx)("div",{className:"flex-grow text-center",children:t})}),Object(u.jsx)("div",{className:"p-6 lg:text-lg md:text-md",children:n.map((function(e,t){return Object(u.jsx)("p",{className:"p-5 py-2",children:e},t)}))}),Object(u.jsxs)("div",{className:"flex pl-6",children:[Object(u.jsx)("button",{className:"flex-grow flex-1 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-5",onClick:l,children:a.accept}),Object(u.jsx)("button",{className:"flex-grow flex-1 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-5",onClick:o,children:a.reject})]})]})})},P=function(e){var t,n=e.page,l=(e.onComplete,e.onChange),o=e.onNextPage,r=e.onPrevPage,s=e.defaultValues,d=Object(a.useMemo)((function(){var e;return null===(e=n.settings)||void 0===e?void 0:e.allowProceed}),[n,n.thisId]),b=Object(a.useState)(!1),m=Object(i.a)(b,2),h=m[0],j=m[1],f=Object(a.useState)({show:!1}),g=Object(i.a)(f,2),v=g[0],p=g[1],x=Object(a.useState)(s),O=Object(i.a)(x,2),w=O[0],y=O[1],N=function(){j(!0===d)};Object(a.useEffect)((function(){j(d)}),[d,j]);var S=function(e){var t;if(n.nextId)if(null!==(t=n.settings)&&void 0!==t&&t.confirmMoveForward){var a,l=null===(a=n.settings)||void 0===a?void 0:a.confirmMoveForward,r=l.title,i=l.text,c=l.buttons;p({show:!0,title:r,text:i,buttons:c,onAccept:function(){p({show:!1}),N(),o()},onReject:function(){p({show:!1})}})}else p({show:!1}),N(),o();else N(),o()},C=function(e){n.prevId&&r()},k=function(){var e;return!0!==(null===(e=n.settings)||void 0===e?void 0:e.allowMoveBack)?null:Object(u.jsx)("button",{className:Object(c.a)({"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline":!0===h}),type:"button",onClick:C,children:"Zur\xfcck"})}(),I=(null===n.nextId&&(n.labelNextPage="Umfrage beenden"),Object(u.jsx)("button",{disabled:!1===h&&"disabled",className:Object(c.a)({"m-5 bg-blue-300 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed":!1===h,"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline":!0===h}),type:"button",onClick:S,children:n.labelNextPage||"Weiter"})),_=v.show,D=v.title,E=v.text,M=v.buttons,F=v.onAccept,q=v.onReject,P=_?Object(u.jsx)(T,{title:D,text:E,buttons:M,onAccept:F,onReject:q}):null;return Object(u.jsxs)("div",{children:[(null===(t=n.sections)||void 0===t?void 0:t.length)>0?Object(u.jsx)(A,{formSections:n.sections,formName:"page:".concat(n.thisId.toString().padStart(2,"0")),onFormChanged:function(e,t){t._timeComplete=(new Date).getTime(),t.timeComplete=(new Date).toISOString(),y(t),l(e,t)},onFormComplete:function(e,t){y(t),j(!0)},defaultValues:w[n.thisId]}):null,Object(u.jsxs)("div",{className:"flex items-center justify-between",children:[k,I]}),P]},n.thisId)},V=function(e,t){var n=e.filter((function(e){return e.thisId===t}));return n.length>1&&console.error("Found more than 1 page with id (".concat(t,")")),n[0]},R=function(e){var t=e.pages,n=e.onChange,l=e.onComplete,o=e.defaultValues,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],d=c[1];if(!t||t.length<1)return console.error("No pages defined in survey"),null;if(!s){var b=function(e){var t=e.filter((function(e){return null===e.prevId}));return t.length>1&&console.error("Found more than 1 root page"),t[0]}(t);return b&&b.thisId>=0&&d(b),null}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex justify-end",children:Object(u.jsxs)("div",{className:"text-white bg-gray-400 px-2 py-0",children:["Seite: ",s.thisId]})}),Object(u.jsx)(P,{page:s,onChange:function(e,t){n(e,t)},onComplete:function(e,t){},onNextPage:function(){s.nextId?(d(V(t,s.nextId)),window.scrollTo(0,0)):l()},onPrevPage:function(){s.prevId&&d(V(t,s.prevId))},defaultValues:o[s.thisId]||{}})]})},H=function(e){var t=e.ruleSet,n=e.onSaveData,l=e.sessionId,o=Object(a.useState)(!1),r=Object(i.a)(o,2),c=r[0],s=r[1],d=Object(a.useState)({sessionId:l,surveyId:t.meta.surveyId}),b=Object(i.a)(d,2),m=b[0],h=b[1];return c?Object(u.jsx)("div",{className:"flex h-screen",children:Object(u.jsx)("div",{className:"text-black font-bold text-3xl m-auto text-4xl",children:"Umfrage beendet. Du darfst das Fenster jetzt schlie\xdfen."})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(R,{sessionId:l,pages:null===t||void 0===t?void 0:t.pages,onChange:function(e,t){var n=Object.assign({},m);n[e]=t,h(n)},onComplete:function(e,t){var a=Object.assign({},m);a[e]=t,delete a.undefined,n(a),s(!0)},defaultValues:m})})},L=n(56),J=n.n(L),B=n(36),U=n.n(B),z=n(57),Z=n(18),G=n(7);var $=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),s=r[0],d=r[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),h=m[0],j=m[1];function f(e,t){var n="";return n+=e.map((function(e){return'"'.concat(e,'"')})).join(";")+"\n",t.forEach((function(e){return n+=e.map((function(e){return"".concat(function(e){return JSON.stringify(e)}(e||""))})).join(";")+"\n"})),n}function g(e){for(var t=null,n=[],a=1;a<=23;a++)n[a]=0;if(!e)return[-1,-1,-1,[],[]];e.forEach((function(e){if("OPEN"===e.action&&(t=e.time_),"CLOSE"===e.action){var a,l,o=e.time_-t;if(t=null,null!==(a=e.info)&&void 0!==a&&a.url)n[parseInt(null===(l=e.info)||void 0===l?void 0:l.url.match(/[0-9]+/gi),10)]+=o}}));var l=0,o=Object.keys(n).map((function(e){var t=n[e];return 0===t?["0","0"]:t>=1?(l++,["1",t/1e3]):void 0})),r=0,i=[],c=e.reduce((function(e,t){return"SEARCH-FAILED"!==t.action&&"SEARCH-SUCCESS"!==t.action||(-1==i.indexOf(t.info)&&i.push(t.info),r++,e.push(t.info),e.push("SEARCH-SUCCESS"===t.action?"1":"0")),e}),[]),s=i.length;return[r,s,l,o.flat(),c].flat()}function v(e){var t=e.target.value;if(t.length>0)try{var n=JSON.parse(t);l(!0),d(n)}catch(a){l(!1),d(null)}}return Object(u.jsxs)("div",{className:"p-10",children:[Object(u.jsx)("h3",{className:"text-2xl font-bold",children:"Export JSON To CSV"}),Object(u.jsx)("p",{className:"my-6",children:"Bitte den JSON Text aus dem Firebase export in dieses Feld kopieren und dann den Export-Button dr\xfccken."}),Object(u.jsx)("p",{children:Object(u.jsx)("label",{children:"JSON"})}),Object(u.jsx)("textarea",{heigth:"20",cols:"10",className:"border border-black w-full h-96",onChange:v}),Object(u.jsx)("button",{className:Object(c.a)({"m-5 bg-blue-300 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed":!1===n,"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline":!0===n}),type:"button",onClick:function(e){for(var t=["sessionId","startDate","totalTimeSecs","total1","total2","total3","GClikelihoodpre","ConfidencePre","Condition","Paradoxicalstatement1","Paradoxicalstatement2","Paradoxicalstatement3","Interestingstatement1","Interestingstatement2","Interestingstatement3","BewertungCues","GClikelihoodpost","ConfidencePost","WichtigsteInformationen","Creativityscore1","Creativityscore2","MCParadoxicalstatements","RealismCase","DifficultyCase","PositioninFirm","Yearsinfirm","MonthsAudit","GoingconcernExperience","FamiliarityAuditstandards","Age","Gender","Gew\xfcnschteInformationen","Anmerkungen","InfobyMail","Mail","totalSearchTerms","uniqueSearchTerms","foundCues"],n=1;n<=23;n++)t.push("cue".concat(n,"-open?")),t.push("cue".concat(n,"-time"));var a=f(t,Object.keys(s.surveys["2022-going-concern"]).map((function(e){var t,n,a,l,o,r,i,c,u,d,b,m,h,j,f,v,p,x,O,w,y,N,S,C,k,I,_,D,E,M,F,q,A,T,P,V,R=s.surveys["2022-going-concern"][e].data;return[R.sessionId.toString().substring(0,9)||"",R.startDate,R.completionTimeInSeconds,Math.ceil(((null===(t=R["page:04"])||void 0===t?void 0:t._timeComplete)-R._startDate)/1e3),Math.ceil(((null===(n=R["page:05"])||void 0===n?void 0:n._timeComplete)-(null===(a=R["page:04"])||void 0===a?void 0:a._timeComplete))/1e3),Math.ceil((R._endDate-(null===(l=R["page:05"])||void 0===l?void 0:l._timeComplete))/1e3),(null===(o=R["page:03"])||void 0===o?void 0:o["q3:1"])||"",(null===(r=R["page:03"])||void 0===r?void 0:r["q3:2"])||"",null!==(i=R["page:04"])&&void 0!==i&&i.p4_version?"2":"1",(null===(c=R["page:04"])||void 0===c?void 0:c["q4:1_v1"])||"",(null===(u=R["page:04"])||void 0===u?void 0:u["q4:2_v1"])||"",(null===(d=R["page:04"])||void 0===d?void 0:d["q4:3_v1"])||"",(null===(b=R["page:04"])||void 0===b?void 0:b["q4:1_v2"])||"",(null===(m=R["page:04"])||void 0===m?void 0:m["q4:2_v2"])||"",(null===(h=R["page:04"])||void 0===h?void 0:h["q4:3_v2"])||"",(null===(j=R["page:06"])||void 0===j?void 0:j["q6:1"])||"",(null===(f=R["page:06"])||void 0===f?void 0:f["q6:2"])||"",(null===(v=R["page:06"])||void 0===v?void 0:v["q6:3"])||"",(null===(p=R["page:06"])||void 0===p?void 0:p["q6:4"])||"",(null===(x=R["page:07"])||void 0===x||null===(O=x["q7:1"])||void 0===O?void 0:O.score1)||"0",(null===(w=R["page:07"])||void 0===w||null===(y=w["q7:1"])||void 0===y?void 0:y.score2)||"0",(null===(N=R["page:08"])||void 0===N?void 0:N["q8:1"])||"",(null===(S=R["page:08"])||void 0===S?void 0:S["q8:2"])||"",(null===(C=R["page:08"])||void 0===C?void 0:C["q8:3"])||"",(null===(k=R["page:09"])||void 0===k?void 0:k["q9:1"])||"",(null===(I=R["page:09"])||void 0===I?void 0:I["q9:2"])||"",(null===(_=R["page:09"])||void 0===_?void 0:_["q9:3"])||"",(null===(D=R["page:09"])||void 0===D?void 0:D["q9:4"])||"",(null===(E=R["page:09"])||void 0===E?void 0:E["q9:5"])||"",(null===(M=R["page:09"])||void 0===M?void 0:M["q9:6"])||"",(null===(F=R["page:09"])||void 0===F?void 0:F["q9:7"])||"",(null===(q=R["page:10"])||void 0===q?void 0:q["q10:1"])||"",(null===(A=R["page:10"])||void 0===A?void 0:A["q10:2"])||"",(null===(T=R["page:10"])||void 0===T?void 0:T["q10:3"])||"",(null===(P=R["page:10"])||void 0===P?void 0:P["q10:4"])||"",g(null===(V=R["page:05"])||void 0===V?void 0:V["q5:1_search_history"]).flat()].flat()})));j(a)},children:"Export"}),Object(u.jsx)("p",{children:Object(u.jsx)("label",{children:"CSV"})}),Object(u.jsx)("textarea",{heigth:"20",cols:"10",className:"border border-black w-full h-96",onChange:v,defaultValue:h}),Object(u.jsx)("p",{className:"my-6",children:"Bitte den CSV Text in eine Datei mit der Endung .csv kopieren"})]})};Object(z.a)({apiKey:"AIzaSyCFasaqUqOltO4gxPbNmR4gYQqusN2Zthg",authDomain:"escp-survey-2022.firebaseapp.com",databaseURL:"https://escp-survey-2022-default-rtdb.europe-west1.firebasedatabase.app",projectId:"escp-survey-2022",storageBucket:"escp-survey-2022.appspot.com",messagingSenderId:"105376003688",appId:"1:105376003688:web:8a1b08d2a162565648eddd"});var K=Object(Z.b)(),Y=new Date,W=U()(Math.random().toString()+(new Date).getUTCMilliseconds.toString()).toString(J.a.enc.Hex),Q=function(e){var t,n,a=new Date;e._startDate=Y.getTime(),e.startDate=new Date(Y).toISOString(),e._endDate=a.getTime(),e.endDate=new Date(a).toISOString(),e.completionTimeInMinutes=Math.round((e._endDate-e._startDate)/6e4),e.completionTimeInSeconds=Math.round((e._endDate-e._startDate)/1e3);var l,o=null===(t=e["page:10"])||void 0===t||null===(n=t["q10:4"])||void 0===n?void 0:n.toString();if(o&&(e["page:10"]["q10:4"]="moved to mailinglist"),Object(Z.e)(Object(Z.d)(K,"surveys/".concat(e.surveyId,"/").concat((l=a,l.getFullYear().toString()+(l.getMonth()+1).toString().padStart(2,"0")+l.getDate().toString().padStart(2,"0")+"_"+l.getHours().toString().padStart(2,"0")+l.getMinutes().toString().padStart(2,"0")+l.getSeconds().toString().padStart(2,"0")+l.getMilliseconds().toString().padStart(2,"0")),"_").concat(e.sessionId.toString().substr(0,10))),{data:e}).then((function(){console.log("Survey Data Saved successfully!",e)})).catch((function(e){console.error("Not Saved successfully!")})),o&&"y"===e["page:10"]["q10:3"]){var r=Object(Z.c)(Object(Z.a)(Object(Z.d)(K),"mailinglists/survey-".concat(e.surveyId))).key,i={};i["mailinglists/survey-".concat(e.surveyId,"/")+r]={email:o},Object(Z.f)(Object(Z.d)(K),i).then((function(){console.log("E-Mail Saved successfully!")})).catch((function(e){console.error("E-Mail Not Saved successfully!")}))}};function X(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){g.a.get("./content/survey.json").then((function(e){var t=e.data;t?l(t):console.log("Control data invalid.")}))}),[]),n?Object(u.jsx)("div",{className:"container max-w-screen-md ml-auto mr-auto",children:Object(u.jsx)(H,{ruleSet:n,onSaveData:Q,sessionId:W})}):Object(u.jsx)("div",{className:"flex h-screen",children:Object(u.jsx)("div",{className:"m-auto text-6xl",children:"Daten werden geladen..."})})}var ee=function(e){window.onbeforeunload=function(t){if(e){var n=t||window.event;return n.preventDefault(),n&&(n.returnValue=""),""}}};var te=function(){var e=function(e){var t=Object(a.useState)(e),n=Object(i.a)(t,2),l=n[0],o=n[1];return window.onload=function(){ee(l)},Object(a.useEffect)((function(){ee(l)}),[l]),[l,o]}(!0),t=Object(i.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)((function(){return function(){n(!1)}}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(G.c,{children:[Object(u.jsx)(G.a,{path:"/export",element:Object(u.jsx)($,{})}),Object(u.jsx)(G.a,{path:"/",element:Object(u.jsx)(X,{})})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),l(e),o(e),r(e)}))},ae=n(42);r.a.render(Object(u.jsx)(l.a.StrictMode,{children:Object(u.jsx)(ae.a,{children:Object(u.jsx)(te,{})})}),document.getElementById("root")),ne()},63:function(e,t,n){},82:function(e,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.062a70df.chunk.js.map