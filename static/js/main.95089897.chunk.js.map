{"version":3,"sources":["components/survey/formbuilder/dropdown/DropDown.jsx","components/survey/formbuilder/researchsimulation/ResearchSimulation.jsx","components/survey/formbuilder/selectfromrange/SelectFromRange.jsx","components/survey/formbuilder/slider/Slider.jsx","components/survey/formbuilder/textinput/TextInput.jsx","components/survey/formbuilder/FormBuilder.jsx","components/survey/simplemodal/SimpleModal.jsx","components/survey/SurveyManager.jsx","App.js","reportWebVitals.js","index.js"],"names":["DropDown","name","label","options","onValueSelect","className","onChange","map","opt","value","viewerStart","ResearchSimulation","onSearchHistoryChanged","useState","searchKeywords","setSearchKeywords","init","searchResults","setSearchResults","loggedActions","logAction","title","url","viewerIsOpen","docToView","setDocToView","controlData","setControlData","useEffect","axios","get","then","response","validRuleSet","ruleSet","researchSimulation","Error","config","cues","length","forEach","element","id","keywords","JSON","stringify","err","console","error","message","validateRuleSet","data","log","action","info","actions","push","time","Date","getTime","target","triggerSearch","e","res","toLowerCase","split","reduce","acc","kw","filter","item","indexOf","cue","autoFocus","onKeyPress","key","type","placeholder","disabled","clsx","onClick","Object","keys","k","now","durationOfView","durationInSec","src","frameBorder","scrolling","height","width","SelectFromRange","setCurrentValue","handleChange","Slider","min","max","unit","onSlideChange","otherAttrs","Math","ceil","currentSliderValue","setCurrentSliderValue","TextInput","props","renderedElementId","replaceBBCode","raw","last","replace","FormBuilder","formSections","formName","onFormChanged","onFormCompleted","defaultValues","completedInputFields","setCompletedInputFields","isReadOnly","renderText","paragraphs","p","idx","dangerouslySetInnerHTML","__html","text","formIsCompleted","isCompleted","section","requestedFieldsForSection","elements","el","isOptional","flat","reqFieldName","saveCurrentInputValue","xname","xvalue","ci","stashInput","renderPickVersion","numVersions","versions","choosenVersion","floor","random","module","renderIncludedElement","content","href","renderResearchSimulation","renderDropDown","renderSelectFromRange","otherAttributes","renderSlider","settings","renderHeadline","renderBoxedText","bPoints","renderBulletList","curVal","readOnly","onBlur","rows","defaultValue","renderTextInput","formContent","renderSections","secs","depth","sec","secIdx","sections","SimpleModal","buttons","onAccept","onReject","t","accept","reject","getPage","pageSet","pageId","pages","val","thisId","SurveyManager","currentPage","setCurrentPage","currentPageIsComplete","setCurrentPageIsComplete","surveyData","setSurveyData","show","modalContent","setModalContent","allowProceed","firstPage","rootPages","prevId","getFirstPage","triggerNextPage","nextId","confirmMoveForward","triggerPrevPage","formData","sData","backButton","allowMoveBack","renderBackButton","nextButton","labelNextPage","modalWindow","App","surveyControlData","setSurveyControlData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95089897.chunk.js","sourcesContent":["\r\nexport const DropDown = ({ name, label, options, onValueSelect, ...otherAttrs }) => {\r\n  return (\r\n    <div key={name} className=\"p-0 border border-solid\">\r\n      <div className=\"font-bold pb-5\">{label}</div>\r\n      <select name={name} onChange={onValueSelect}>\r\n        {options.map(opt => {\r\n          return <option value={opt.value}>{opt.label}</option>\r\n        })}\r\n      </select>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport clsx from 'clsx'\r\n\r\nconst MIN_CHARS_FOR_SEARCH = 3\r\nlet viewerStart = null\r\n\r\nexport const ResearchSimulation = ({ name, onSearchHistoryChanged, ...otherAttrs }) => {\r\n  const [searchKeywords, setSearchKeywords] = useState(\"\")\r\n  const [searchResults, setSearchResults] = useState({ init: true })\r\n  const [loggedActions, logAction] = useState([])\r\n  const [docToView, setDocToView] = useState({ title: null, url: null, viewerIsOpen: false })\r\n  const [controlData, setControlData] = useState(null)\r\n\r\n  const validateRuleSet = (ruleSet) => {\r\n    if (!ruleSet?.researchSimulation) {\r\n      throw Error('Die Daten in research-simulation.json sind ungültig!')\r\n    }\r\n\r\n    if (!ruleSet.researchSimulation?.config) {\r\n      throw Error('Abschnitt \"config: { ... }\" in research-simulation.json fehlt!')\r\n    }\r\n\r\n    if (!ruleSet.researchSimulation?.cues?.length > 0) {\r\n      throw Error('Abschnitt \"cues\": [ ... ] in research-simulation.json fehlt oder ist leer!')\r\n    }\r\n\r\n    try {\r\n      ruleSet.researchSimulation.cues.forEach(element => {\r\n        const { id, title, keywords, url } = element\r\n\r\n        if (!id || typeof id !== \"number\") { throw Error(`Fehlendes oder ungültiges Attribute \"id\" (keine Zahl?) in ${JSON.stringify(element)}`) }\r\n        if (!title || typeof title !== \"string\" || title?.length < 1) { throw Error(`Fehlendes oder ungültiges Attribute \"title\" (keine Zeichenkette?) in ${JSON.stringify(element)}`) }\r\n        if (!keywords || !keywords?.length > 1) { throw Error(`Fehlendes oder ungültiges Attribute \"keywords\" (keine Zeichenkette?) in ${JSON.stringify(element)}`) }\r\n        if (!url || !url?.length > 1) { throw Error(`Fehlendes oder ungültiges Attribute \"url\" (keine Zeichenkette?) in ${JSON.stringify(element)}`) }\r\n      })\r\n    } catch (err) {\r\n      console.error(err)\r\n      throw JSON.stringify(err.message)\r\n    }\r\n\r\n    return ruleSet\r\n  }\r\n\r\n  useEffect(() => {\r\n    // this json contains the variables and steering commands for customizing survey\r\n    axios.get('/content/research-simulation.json').then(response => {\r\n      const validRuleSet = validateRuleSet(response.data)\r\n\r\n      if (validRuleSet) {\r\n        setControlData(validRuleSet)\r\n      } else {\r\n        console.log('Control data invalid.')\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const getSearchResults = (keywords) => {\r\n    const kws = keywords.toLowerCase().split(';')\r\n\r\n    return kws.reduce((acc, kw) => {\r\n      if (kw.length === 0) return acc\r\n\r\n      const cues4Kw = controlData.researchSimulation?.cues.filter((item) => {\r\n        return item.keywords.toLowerCase().indexOf(kw) > -1\r\n      })\r\n\r\n      cues4Kw.forEach(cue => {\r\n        acc[cue.id] = cue\r\n      })\r\n\r\n      return acc\r\n    }, {})\r\n  }\r\n\r\n  const updateKeywords = (e) => {\r\n    setSearchKeywords(e.target.value)\r\n  }\r\n\r\n  // try {\r\n  //   ruleSetIsValid()\r\n  // }\r\n  // catch (err) {\r\n  //   return (<div className=\"bg-red-100 text-red-700 p-20\">\r\n  //     Die Daten in der JSON-Datei für das Modul \"Research Simulation\" sind ungültig.<br />\r\n  //     {JSON.parse(err)}\r\n  //   </div>)\r\n  // }\r\n\r\n  const log = (action, info) => {\r\n    const actions = loggedActions\r\n    actions.push({ time: new Date().getTime(), action, info })\r\n    logAction(actions)\r\n    onSearchHistoryChanged({ target: { name: name, value: actions } })\r\n  }\r\n\r\n  const triggerSearch = (e) => {\r\n    const res = getSearchResults(searchKeywords)\r\n    log('SEARCH', searchKeywords)\r\n    setSearchResults(res)\r\n  }\r\n\r\n  const getViewer = (cue) => () => {\r\n    log('OPEN', cue.url)\r\n    const now = new Date()\r\n    viewerStart = now.getTime()\r\n    setDocToView({ title: cue.title, url: cue.url, viewerIsOpen: true })\r\n  }\r\n\r\n  const closeViewer = (e) => {\r\n    const url = docToView.url\r\n    const now = new Date()\r\n    const durationOfView = now.getTime() - viewerStart\r\n    viewerStart = null\r\n    log('CLOSE', { url, durationInSec: durationOfView / 1000 })\r\n    setDocToView({ title: null, url: null, viewerIsOpen: false })\r\n  }\r\n\r\n  const handleEnterKey = (e) => {\r\n    if (e.key === 'Enter' && searchKeywords.length >= MIN_CHARS_FOR_SEARCH) {\r\n      triggerSearch()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <h1 className=\"text-3xl pb-4\">Recherche</h1>\r\n\r\n      <div className=\"bg-blue-50 shadow-md px-8 pt-6 pb-8 mb-4\">\r\n        <div className=\"mb-4\">\r\n          <input autoFocus onKeyPress={handleEnterKey} onChange={updateKeywords} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"keywords\" type=\"text\" placeholder={`Suchbegriffe (min. ${MIN_CHARS_FOR_SEARCH} Buchstaben) hier eingeben...`} />\r\n        </div>\r\n        <div className=\"flex items-center justify-between\">\r\n          <button disabled={searchKeywords.length < MIN_CHARS_FOR_SEARCH && 'disabled'} className={clsx({\r\n            \"bg-blue-300 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed\": searchKeywords.length < MIN_CHARS_FOR_SEARCH,\r\n            \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\": searchKeywords.length >= MIN_CHARS_FOR_SEARCH\r\n          })} type=\"button\" onClick={triggerSearch}>\r\n            Suchen\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {searchResults.init !== true && Object.keys(searchResults).length === 0 && (\r\n        <div className=\"bg-gray-50 p-10 my-10\">\r\n          <div>Wir haben leider keine passenden Ergebnisse zu Ihrer Suchanfrage gefunden... Bitte versuchen Sie es mit anderen Suchbegriffen.</div>\r\n        </div>)\r\n      }\r\n\r\n      {searchResults.init !== true && Object.keys(searchResults).map(k => (\r\n        <div className=\"bg-gray-50 p-5 my-1 border-gray-500\" key={k}>\r\n          <div className=\"font-bold\">{searchResults[k].title}</div>\r\n          <div className=\"text-blue-400\"><div className=\"cursor-pointer text-blue-700\" onClick={getViewer(searchResults[k])}>Dokument öffnen</div></div>\r\n        </div>)\r\n      )}\r\n\r\n      {docToView.viewerIsOpen && <div className=\"fixed inset-0 bg-gray-600 bg-opacity-99 overflow-y-auto h-full w-full\">\r\n        <div className=\"flex w-full bg-gray-800 text-white text-2xl\">\r\n          <div className=\"flex-grow text-center\">{docToView.title}</div>\r\n          <div className=\"flex-none pl-5 pr-5 cursor-pointer\" onClick={closeViewer}>&#10006;</div>\r\n        </div>\r\n        <div className=\"w-full h-full\">\r\n          <embed\r\n            src={docToView.url}\r\n            type=\"application/pdf\"\r\n            frameBorder=\"0\"\r\n            scrolling=\"auto\"\r\n            height=\"100%\"\r\n            width=\"100%\"\r\n          ></embed>\r\n        </div>\r\n      </div>}\r\n\r\n    </div>\r\n  )\r\n\r\n}","import { useState } from \"react\"\r\n\r\nexport const SelectFromRange = (data) => {\r\n  const [currentValue, setCurrentValue] = useState(0)\r\n  const { name, label, options, onValueSelect, ...otherAttrs } = data\r\n\r\n  const handleChange = (e) => {\r\n    setCurrentValue(e.target.value)\r\n    return onValueSelect(e)\r\n  }\r\n\r\n  return (<div key={name} className=\"p-0 w-full\">\r\n    <div className=\"max-w-sm pb-5 font-bold\">{label}</div>\r\n    <div className=\"w-full flex\">\r\n      {options.map(opt => (\r\n        <div className=\"w-full border border-solid\">\r\n          <div className=\"h-16 font-bold\">{opt.label || ' '}</div>\r\n          <div><input type=\"radio\" name={name} value={opt.value} onChange={handleChange} /></div>\r\n          <div>{opt.value}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>)\r\n}","import { useState } from \"react\"\r\n\r\nexport const Slider = ({ name, min, max, label, unit, onSlideChange, ...otherAttrs }) => {\r\n  const [currentSliderValue, setCurrentSliderValue] = useState(Math.ceil(max / 2))\r\n\r\n  const handleSlideChange = (e) => {\r\n    setCurrentSliderValue(e.target.value)\r\n    return onSlideChange(e)\r\n  }\r\n\r\n  return (<div key={name} className=\"p-0\">\r\n    <div className=\"max-w-sm font-bold pb-5\">{label}</div>\r\n    <input\r\n      type=\"range\"\r\n      name={name}\r\n      min={min}\r\n      max={max}\r\n      onChange={handleSlideChange}\r\n      {...otherAttrs}\r\n    />&nbsp;\r\n    <span>{currentSliderValue} {unit}</span>\r\n  </div>)\r\n}","\r\nexport const TextInput = props => {\r\n  return (\r\n    <>\r\n      {props.label && <div className=\"font-bold pb-5\">{props.label}</div>}\r\n      <input type=\"text\" className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" {...props} />\r\n    </>\r\n  )\r\n}","import { useState } from \"react\"\r\nimport { DropDown } from \"./dropdown/DropDown\"\r\nimport { ResearchSimulation } from \"./researchsimulation/ResearchSimulation\"\r\nimport { SelectFromRange } from \"./selectfromrange/SelectFromRange\"\r\nimport { Slider } from \"./slider/Slider\"\r\nimport { TextInput } from \"./textinput/TextInput\"\r\n\r\n// @TODO find better solution for generating unique element ids\r\nlet renderedElementId = 0\r\n\r\n/**\r\n * Finds and replaces some very basic BBCode tags\r\n */\r\nconst replaceBBCode = raw => {\r\n  if (!raw || raw.length < 1) return\r\n\r\n  let last = null\r\n  let res = raw\r\n\r\n  do {\r\n    last = res\r\n    res = res.replace(/\\[(b|i|u|s)\\](.*?)\\[\\/\\1\\]/gs, \"<$1>$2</$1>\")\r\n\r\n  } while (res !== last)\r\n\r\n  return res\r\n}\r\n\r\nexport const FormBuilder = ({ formSections, formName, onFormChanged, onFormCompleted, defaultValues }) => {\r\n  const [completedInputFields, setCompletedInputFields] = useState({})\r\n  const [isReadOnly, setIsReadOnly] = useState(false)\r\n\r\n  /**\r\n   * Renders a section headline\r\n   */\r\n  const renderHeadline = data => {\r\n    return (\r\n      <div className=\"text-xl pt-3 pb-4\" key={data.text}>\r\n        <strong>{data.text}</strong>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Renders a bunch of text paragraphs\r\n   */\r\n  const renderText = data => {\r\n    return data.paragraphs.map((p, idx) => (\r\n      <p className=\"pb-3\" key={idx} dangerouslySetInnerHTML={{\r\n        __html: replaceBBCode(p.text)\r\n      }}></p>\r\n    ))\r\n  }\r\n\r\n  const renderBoxedText = data => {\r\n    const text = renderText(data)\r\n    return <div className=\"border border-gray-400 bg-gray-200 p-5 border-solid\">\r\n      {text}\r\n    </div>\r\n  }\r\n\r\n  const renderBulletList = data => {\r\n    const bPoints = data.paragraphs.map((p, idx) => {\r\n      return <li className=\"pb-3 list-item\" key={idx}>{p.text}</li>\r\n    })\r\n\r\n    return <ul className=\"pl-10 list-outside list-disc\">\r\n      {bPoints}\r\n    </ul>\r\n  }\r\n\r\n  const getRequiredFields = () => {\r\n    return formSections.reduce((acc, section) => {\r\n      const requestedFieldsForSection = section.elements?.reduce((acc, el) => {\r\n        if (el.type?.toLowerCase() === 'input' && el.data.isOptional !== true) {\r\n          acc.push(el.data.name)\r\n        }\r\n        return acc\r\n      }, [])\r\n\r\n      if (requestedFieldsForSection) {\r\n        acc.push(requestedFieldsForSection)\r\n      }\r\n\r\n      return acc\r\n    }, []).flat()\r\n  }\r\n\r\n  const formIsCompleted = () => {\r\n    if (!completedInputFields) {\r\n      return false\r\n    }\r\n\r\n    if (completedInputFields && Object.keys(completedInputFields).length < 1) {\r\n      return true\r\n    }\r\n\r\n    let isCompleted = true\r\n\r\n    const listOfRequiredFields = getRequiredFields()\r\n    listOfRequiredFields.forEach(reqFieldName => {\r\n      if (!completedInputFields[reqFieldName]) {\r\n        debugger\r\n        isCompleted = false\r\n      }\r\n    })\r\n\r\n    return isCompleted\r\n  }\r\n\r\n  const stashInput = (xname, xvalue) => {\r\n    const ci = completedInputFields\r\n    ci[xname] = xvalue\r\n    setCompletedInputFields(ci)\r\n  }\r\n\r\n  const saveCurrentInputValue = e => {\r\n    stashInput(e.target.name, e.target.value)\r\n    onFormChanged(formName, completedInputFields)\r\n\r\n    if (formIsCompleted()) {\r\n      onFormCompleted(true)\r\n    } else {\r\n      onFormCompleted(false)\r\n    }\r\n  }\r\n\r\n\r\n  const renderSlider = (data) => {\r\n    const { label, unit, ...otherAttributes } = data\r\n\r\n    return (\r\n      <div key={data.name} className=\"bg-gray-200 p-5 w-full\">\r\n        <Slider\r\n          className=\"min-w-full\"\r\n          label={label}\r\n          unit={unit}\r\n          onSlideChange={saveCurrentInputValue}\r\n          {...otherAttributes}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const renderSelectFromRange = (data) => {\r\n    return (\r\n      <div key={data.name} className=\"bg-gray-200 p-5\">\r\n        <SelectFromRange\r\n          name={data.name}\r\n          label={data.label}\r\n          options={data.options}\r\n          onValueSelect={saveCurrentInputValue}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  /**\r\n   * Renders a text input field\r\n   */\r\n  const renderTextInput = (data) => {\r\n    const curVal = completedInputFields?.[data.name] || null\r\n    return (\r\n      <div key={data.name} className=\"border-1 border-solid bg-gray-200 p-5\">\r\n        <TextInput\r\n          className=\"w-full p-5\"\r\n          readOnly={isReadOnly}\r\n          onBlur={isReadOnly !== true ? saveCurrentInputValue : null}\r\n          label={data.label}\r\n          name={data.name}\r\n          rows={data.rows}\r\n          placeholder={data.placeholder}\r\n          defaultValue={curVal}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderDropDown = (data) => {\r\n    return (\r\n      <div key={data.name} className=\"border-1 border-solid bg-gray-200 p-5\">\r\n        <DropDown\r\n          name={data.name}\r\n          label={data.label}\r\n          options={data.options}\r\n          onValueSelect={saveCurrentInputValue}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderResearchSimulation = (data) => {\r\n    return (\r\n      <div key={data.name} className=\"border-1 border-solid bg-gray-200 p-5\">\r\n        <ResearchSimulation\r\n          name={data.name}\r\n          onSearchHistoryChanged={saveCurrentInputValue}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderLinkThumbnail = (data) => {\r\n    return (\r\n      <a href={data.url} target={data.target}>\r\n        <div key={data.name} className=\"border-1 border-solid bg-gray-100 p-5 w-auto hover:bg-gray-200\">\r\n          {data.title}\r\n        </div>\r\n      </a>\r\n    )\r\n  }\r\n\r\n  const renderPickVersion = (data) => {\r\n    const numVersions = data.versions?.length\r\n    if (numVersions <= 0) return null\r\n\r\n    const choosenVersion = Math.floor(Math.random() * numVersions)\r\n\r\n    return data.versions[choosenVersion].elements?.map((el, idx) => {\r\n      if (!el.module) return null\r\n\r\n      if (el.module !== 'subsections') {\r\n        return <div className=\"__element p-2\">{renderIncludedElement(el)}</div>\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Renders an element inside a cell or section\r\n   */\r\n  const renderIncludedElement = (el) => {\r\n    let content = null\r\n    el.data.id = renderedElementId++\r\n\r\n    switch (el.module.toLowerCase()) {\r\n      case 'linkthumbnail':\r\n        content = renderLinkThumbnail(el.data)\r\n        break\r\n      case 'researchsimulation':\r\n        content = renderResearchSimulation(el.data)\r\n        break\r\n      case 'dropdown':\r\n        content = renderDropDown(el.data)\r\n        break\r\n      case 'selectfromrange':\r\n        content = renderSelectFromRange(el.data)\r\n        break\r\n      case 'slider':\r\n        content = renderSlider(el.data, el.settings)\r\n        break\r\n      case 'headline':\r\n        content = renderHeadline(el.data)\r\n        break\r\n      case 'boxedtext':\r\n        content = renderBoxedText(el.data)\r\n        break\r\n      case 'bulletlist':\r\n        content = renderBulletList(el.data)\r\n        break\r\n      case 'pickversion':\r\n        content = renderPickVersion(el.data)\r\n        break\r\n      case 'text':\r\n        content = renderText(el.data)\r\n        break\r\n      case 'textarea':\r\n      case 'textinput':\r\n        content = renderTextInput(el.data)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n\r\n    return content\r\n  }\r\n\r\n  /**\r\n   * Renders a collection of sections (including all nested subsections)\r\n   */\r\n  const renderSections = (secs, depth) => {\r\n    let content = null\r\n\r\n    return secs.map((sec, secIdx) => {\r\n      const elements = sec.elements.map((el, idx) => {\r\n        if (!el.module) return null\r\n\r\n        if (el.module !== 'subsections') {\r\n          content = renderIncludedElement(el)\r\n\r\n          return <div className=\"__element p-2\">{content}</div>\r\n        } else {\r\n          content = renderSections(el.sections, depth + 1)\r\n\r\n          return content\r\n        }\r\n      })\r\n\r\n      if (depth === 1) {\r\n        return (\r\n          <div className=\"p-6 border my-1 border-solid\" key={`sect-${depth}:${secIdx}`}>\r\n            {elements}\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <div className=\"__subsection\" key={`subsect-${depth}:${secIdx}`}>\r\n            {elements}\r\n          </div>\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  const formContent = renderSections(formSections, 1)\r\n\r\n  return <div>\r\n    {formContent}\r\n  </div>\r\n}","export const SimpleModal = ({ title, text, buttons, onAccept, onReject }) => {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-70 overflow-y-auto h-full w-full\">\r\n      <div className=\"w-1/2 h-1/2 bg-white m-auto my-10\">\r\n        <div className=\"flex w-full bg-gray-400 p-3 text-white text-2xl\">\r\n          <div className=\"flex-grow text-center\">{title}</div>\r\n        </div>\r\n        <div className=\"p-10 text-lg\">\r\n          {text.map(t => {\r\n            return <p className=\"p-5 py-2\">{t}</p>\r\n          })}\r\n        </div>\r\n        <div className=\"flex w-1/2 pl-10\">\r\n          <button className=\"flex-grow bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-5\" onClick={onAccept}>{buttons.accept}</button>\r\n          <button className=\"flex-grow bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-5\" onClick={onReject}>{buttons.reject}</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react'\r\nimport clsx from 'clsx'\r\nimport { FormBuilder } from './formbuilder/FormBuilder'\r\nimport { SimpleModal } from './simplemodal/SimpleModal'\r\n\r\nconst getPage = (pageSet, pageId) => {\r\n  const pages = pageSet.filter(val => val.thisId === pageId)\r\n  if (pages.length > 1) { console.error(`Found more than 1 page with id (${pageId})`) }\r\n  return pages[0]\r\n}\r\n\r\nconst getFirstPage = (pageSet) => {\r\n  const rootPages = pageSet.filter(val => val.prevId === null)\r\n  if (rootPages.length > 1) { console.error('Found more than 1 root page') }\r\n  return rootPages[0]\r\n}\r\n\r\nexport const SurveyManager = ({ ruleSet }) => {\r\n  const pages = ruleSet?.pages\r\n\r\n  const [currentPage, setCurrentPage] = useState(null)\r\n  const [currentPageIsComplete, setCurrentPageIsComplete] = useState(false)\r\n  const [surveyData, setSurveyData] = useState({})\r\n  const [modalContent, setModalContent] = useState({ show: false })\r\n\r\n\r\n  useEffect(() => {\r\n    if (currentPage?.settings?.allowProceed === true) {\r\n      setCurrentPageIsComplete(true)\r\n    }\r\n\r\n  }, ['currentPage'])\r\n\r\n  if (!pages || pages.length < 1) {\r\n    console.error('No pages defined in survey')\r\n    return null\r\n  }\r\n\r\n  if (!currentPage) {\r\n    const firstPage = getFirstPage(pages)\r\n    if (firstPage && firstPage.thisId >= 0) {\r\n      setCurrentPage(firstPage)\r\n    }\r\n    return null\r\n  }\r\n\r\n  const triggerNextPage = (e) => {\r\n    if (currentPage.nextId) {\r\n      if (currentPage.settings?.confirmMoveForward) {\r\n        const { title, text, buttons } = currentPage.settings?.confirmMoveForward\r\n\r\n        setModalContent({\r\n          show: true,\r\n          title,\r\n          text,\r\n          buttons,\r\n          onAccept: () => { setModalContent({ show: false }); setCurrentPage(getPage(pages, currentPage.nextId)) },\r\n          onReject: () => { setModalContent({ show: false }) }\r\n        })\r\n      } else {\r\n        setCurrentPage(getPage(pages, currentPage.nextId))\r\n      }\r\n    }\r\n  }\r\n\r\n  const triggerPrevPage = (e) => {\r\n    if (currentPage.prevId) {\r\n      setCurrentPage(getPage(pages, currentPage.prevId))\r\n    }\r\n  }\r\n\r\n  const handleFormChanged = (formName, formData) => {\r\n    const fName = formName || \"general\"\r\n    let sData = surveyData\r\n    sData[fName] = formData\r\n    setSurveyData(sData)\r\n    console.log('Survey Data:', sData)\r\n  }\r\n\r\n  const handleFormCompleted = (isCompleted) => {\r\n    setCurrentPageIsComplete(isCompleted)\r\n  }\r\n\r\n  const formContent = (currentPage.sections?.length > 0) ?\r\n    <FormBuilder\r\n      key={`form_${currentPage.thisId}`}\r\n      defaultValues={surveyData[currentPage]}\r\n      formSections={currentPage.sections}\r\n      formName={`page:${currentPage.thisId}`}\r\n      onFormChanged={handleFormChanged}\r\n      onFormCompleted={handleFormCompleted}\r\n    /> :\r\n    <div>no form data</div>\r\n\r\n  const renderBackButton = () => {\r\n    if (currentPage.settings?.allowMoveBack !== true) {\r\n      return null\r\n    }\r\n\r\n    return (<button className={clsx({\r\n      \"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\": currentPageIsComplete === true\r\n    })} type=\"button\" onClick={triggerPrevPage}>\r\n      Zurück\r\n    </button>)\r\n  }\r\n\r\n  const renderNextButton = () => {\r\n    if (currentPage.nextId === null) {\r\n      return null\r\n    }\r\n\r\n    return (<button disabled={currentPageIsComplete === false && 'disabled'} className={clsx({\r\n      \"m-5 bg-blue-300 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed\": currentPageIsComplete === false,\r\n      \"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\": currentPageIsComplete === true\r\n    })} type=\"button\" onClick={triggerNextPage}>\r\n      {currentPage.labelNextPage || 'Weiter'}\r\n    </button>)\r\n  }\r\n\r\n  const backButton = renderBackButton()\r\n  const nextButton = renderNextButton()\r\n\r\n  const closeModal = () => {\r\n    setModalContent({ show: false })\r\n  }\r\n\r\n  const {\r\n    show,\r\n    title,\r\n    text,\r\n    buttons,\r\n    onAccept,\r\n    onReject\r\n  } = modalContent\r\n\r\n  const modalWindow = show ?\r\n    <SimpleModal\r\n      title={title}\r\n      text={text}\r\n      buttons={buttons}\r\n      onAccept={onAccept}\r\n      onReject={onReject}\r\n    />\r\n    : null\r\n\r\n\r\n  return (\r\n    <div key={currentPage.thisId}>\r\n      <div className=\"flex justify-end\">\r\n        <div className=\"text-white bg-gray-400 px-2 py-0\">\r\n          Seite: {currentPage.thisId}\r\n        </div>\r\n      </div>\r\n      {formContent}\r\n      <div className=\"flex items-center justify-between\">\r\n        {backButton}\r\n        {nextButton}\r\n      </div>\r\n      {modalWindow}\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from 'react'\r\nimport { SurveyManager } from './components/survey/SurveyManager'\r\nimport axios from 'axios'\r\n\r\nconst validateRuleSet = (unvalidatedRules) => {\r\n  // @TODO verify the structure of the survey.json (using ajv?) in order to avoid unnescessary problems with broken json\r\n\r\n  return unvalidatedRules\r\n}\r\n\r\nfunction App() {\r\n  const [surveyControlData, setSurveyControlData] = useState(null)\r\n\r\n  useEffect(() => {\r\n    // this json contains the variables and steering commands for customizing survey\r\n    axios.get('/content/survey.json').then(response => {\r\n      const validRuleSet = validateRuleSet(response.data)\r\n\r\n      if (validRuleSet) {\r\n        setSurveyControlData(validRuleSet)\r\n      } else {\r\n        console.log('Control data invalid.')\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return surveyControlData ? (\r\n    <div className=\"container max-w-screen-lg ml-auto mr-auto\">\r\n      <SurveyManager ruleSet={surveyControlData} />\r\n    </div>\r\n  ) : (\r\n    <div className='flex h-screen'>\r\n      <div className='m-auto text-6xl'>Daten werden geladen...</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}